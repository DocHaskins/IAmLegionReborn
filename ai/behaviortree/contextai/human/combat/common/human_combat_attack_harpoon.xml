<?xml version="1.0"?>
<BehaviorTree xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../MetaData/schema_ai.xsd" m_ContextType="ai">
    <SequenceMem>
        <Opr_SetWeapon m_WeaponType="NONE" m_Hand="LEFT"/>
        <Cnd_CanStartTask m_StartPolicy="INTERRUPT"/>
        <Selector>
            <Cnd_IsHoldRequired m_Invert="true"/>
            <Cnd_SelfInHoldRadius/>
        </Selector>
        <Selector>
            <Cnd_IsRestrictedAreaRequired m_Invert="true"/>
            <Cnd_SelfInRestrictedArea/>
        </Selector>
        <CooldownTimeDelta m_CooldownTime="15">
            <SequenceMem>
                <Cnd_IsCombatTargetInAngle m_Angle="$harpoon_aim_attempt_angle"/>
                <Cnd_IsCombatTargetInRadius m_Radius="$harpoon_aim_attempt_distance" m_Invert="true"/>
                <Cnd_AllyInLineOfFire m_Target="#target" m_SpaceNeeded="0.75" m_Invert="true"/>
                <Parallel m_PolicySuccess="REQUIRE_ONE" m_PolicyFailure="REQUIRE_ONE">
                    <Act_WeaponAim m_StartPolicy="INTERRUPT" m_AbandonPolicy="BLENDOUT"/>
                    <Act_Idle m_Type="Stand" m_StartPolicy="INTERRUPT" m_AbandonPolicy="BLENDOUT"/>
                    <SequenceMem>
                        <Act_WaitTimeDeltaRandom m_TimeMin="2" m_TimeMax="4"/>
                        <TimeDeltaLimit m_TimeMax="1">
                            <RunUntilSuccess>
                                <Cnd_AllyInLineOfFire m_Target="#target" m_SpaceNeeded="0.3" m_Invert="true"/>
                            </RunUntilSuccess>
                        </TimeDeltaLimit>
                        <Act_WeaponShoot m_Target="#target" m_StartPolicy="INTERRUPT" m_AbandonPolicy="INTERRUPT" m_DecisionPolicy="WHEN_POSSIBLE"/>
                    </SequenceMem>
                    <RunUntilFailure>
                        <Sequence>
                            <Cnd_IsCombatTargetInAngle m_Angle="$harpoon_aim_cancel_angle"/>
                            <Cnd_IsCombatTargetInRadius m_Radius="$harpoon_aim_cancel_distance" m_Invert="true"/>
                        </Sequence>
                    </RunUntilFailure>
                </Parallel>
            </SequenceMem>
        </CooldownTimeDelta>
    </SequenceMem>
</BehaviorTree>
