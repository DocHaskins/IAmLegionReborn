<?xml version="1.0"?>
<BehaviorTree xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../MetaData/schema_ai.xsd" m_ContextType="ai">
    <Sequence>
        <Succeeder>
            <Sequence>
                <Selector>
					<Cnd_IsCombatTargetMeleeReachable m_Target="#target"/>
					<Cnd_IsCombatTargetInRange m_Target="#target" m_Radius="$attack_grab_max_range" m_Angle="$attack_grab_max_angle"/>
                    <Cnd_IsTargetAttacking m_Target="#target"/>
                    <Cnd_IsTargetChargingAttack m_Target="#target"/>
                </Selector>
                <Selector>
                    <Cnd_HasTimePassed m_TimePoint="#fake_attack_cooldown" m_TimeDelta="-1.0"/>
                    <Opr_GetModifiedTime m_TimePoint="#fake_attack_cooldown" m_TimeDelta="1.0"/>
                </Selector>
            </Sequence>
        </Succeeder>
        <Succeeder>
			<Selector>
				<Cnd_TargetInRadius m_Target="#target" m_Radius="20.0" m_HorizontalOnly="true"/>
				<Cnd_HasWeaponInInventory m_WeaponType="Bow"/>
                <Opr_RequestCombatSlot m_Name="range" m_Limit="$combat_slot_range_limit" m_MinDelay="$combat_slot_range_min_delay" m_MaxKeepTime="$combat_slot_range_max_keep_time" m_Cost="#role_cost"/>
                <Opr_SetBBValue_string m_Key="#role" m_Value="range"/>
			</Selector>
			<Selector>
				<Cnd_TargetInRadius m_Target="#target" m_Radius="6.0" m_HorizontalOnly="true"/>
				<ExternalTree m_UID="HUMAN_COMBAT_ONE_HANDED" m_CustomName="Bow" m_Hide="true"/>
			</Selector>
            <Selector>
                <Sequence>
                    <Opr_GetPathDistanceToCombatTarget m_PathLength="#attack_cost"/>
                    <Selector>
                        <Cnd_InTargetHorzAngle m_Target="#target" m_Angle="60"/>
                        <Opr_MultiplyBBValue_float m_Key="#attack_cost" m_Amount="1.25"/>
                    </Selector>
                </Sequence>
                <Opr_SetBBValue_float m_Key="#attack_cost" m_Value="40"/>
            </Selector>
        </Succeeder>
        <Succeeder>
            <Opr_GetDistanceToCombatTarget m_Distance="#attack_range_cost"/>
        </Succeeder>
        <Succeeder>
            <Opr_GetSelfPosition m_Position="#self_pos"/>
        </Succeeder>
    </Sequence>
</BehaviorTree>
