<?xml version="1.0" encoding="UTF-8"?>
<BehaviorTree xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../MetaData/schema_ai.xsd" m_ContextType="ai">
    <!-- input #request_move_dest_pos vec3 -->
    <!-- input #request_move_dest_dir vec3 -->
    <!-- input #request_move_dest_radius float -->
    <!-- input #request_move_style string -->
    <!-- input #request_move_intermediate_points vector<vec3> -->
    <!-- input #request_move_skip_start bool -->
    <!-- input #request_move_stop_at_dest bool -->
    <!-- input #request_move_fail_if_unreachable bool -->
    <!-- input #request_move_dest_nav_tolerance_xz float -->
    <!-- input #request_move_dest_nav_tolerance_y float -->
    <Selector>
		<ExternalTree m_UID="HUMAN_GO_TO_HIGH_GROUND" m_CustomName="Go to high ground" m_Hide="true"/>
        <ExternalTree m_UID="HUMAN_MOVE_AVOID_DANGER" m_CustomName="AvoidDanger" m_Hide="true"/>
        <!-- move away from player -->
        <Optional m_Enabled="$enable_generic_move_away_from_player">
            <Failer>
                <ExternalTree m_UID="HUMAN_MOVE_AWAY_FROM_PLAYER" m_CustomName="AwayFromPlayer" m_Hide="true"/>
            </Failer>
        </Optional>
        <!-- idle interact with player -->
        <Optional m_Enabled="$enable_generic_idle_interact" m_CustomName="Interact" m_Hide="true">
            <Failer>
                <ExternalTree m_UID="HUMAN_MOVE_IDLE_INTERACT"/>
            </Failer>
        </Optional>
        <!-- move with group gather -->
        <Sequence>
            <Opr_RequestGroupDestinationGet m_GroupDestination="#group_destination" m_GroupDestRadius="#group_dest_radius"/>
            <ExposeMoveState m_Destination="#request_move_dest_pos" m_GroupDestination="#group_destination">
                <Selector>
                    <!-- group gather -->
                    <Optional m_Enabled="$request_move_gather_enabled">
                        <Failer>
                            <ExternalTree m_UID="HUMAN_MOVE_GROUP_GATHER" m_CustomName="GroupGather" m_Hide="true"/>
                        </Failer>
                    </Optional>
                    <!-- generic look around -->
                    <Optional m_Enabled="$enable_generic_look_around">
                        <Failer>
                            <ExternalTree m_UID="HUMAN_MOVE_LOOK_AROUND" m_CustomName="LookAround" m_Hide="true"/>
                        </Failer>
                    </Optional>
                    <Parallel m_PolicyFailure="REQUIRE_ONE" m_PolicySuccess="REQUIRE_ONE">
                        <ExternalTree m_UID="HUMAN_MOVE_INTERACT" m_CustomName="MoveInteract" m_Hide="true"/>
                        <ExternalTree m_UID="HUMAN_MOVE_SIMPLE" m_CustomName="MoveSimple" m_Hide="true"/>
                    </Parallel>
                </Selector>
            </ExposeMoveState>
        </Sequence>
    </Selector>
</BehaviorTree>
