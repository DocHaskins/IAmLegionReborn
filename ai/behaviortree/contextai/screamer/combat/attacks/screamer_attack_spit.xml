<?xml version="1.0" encoding="UTF-8"?>
<BehaviorTree xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../MetaData/schema_ai.xsd" m_ContextType="ai">
    <CooldownTimeDelta m_CooldownTime="$spit_cooldown">
        <SequenceMem>
            <Cnd_IsTargetVisible m_Target="#target"/>
            <Cnd_CanStartTask m_StartPolicy="INTERRUPT"/>
            <Cnd_IsPoseEqual m_Pose="Standing"/>
            <Cnd_IsActivityModuleRunning_Movement m_Invert="true"/>
            <Cnd_IsCombatTargetInSyncAction m_Invert="true"/>
            <Cnd_IsBBValueEqual_string m_Key="#tactic" m_Value="rush" m_Invert="true"/>
            <Cnd_AllyInLineOfFire m_Target="#target" m_CheckMelee="false" m_Invert="true"/>
            <Cnd_TargetInRadiusPredicted  m_Target="#target" m_Radius="$spit_max_range" m_Time="$target_prediciton_time"/>
            <Cnd_TargetInRadiusPredicted m_Target="#target" m_Radius="$spit_min_range" m_Time="$target_prediciton_time" m_Invert="true"/>
            <Cnd_TargetInAngle  m_Target="#target" m_Angle="$spit_max_angle"/>
            <Opr_SetDirCorrectionSpeed m_MaxSpeed="$spit_dir_correction_speed"/>
            <CombatSlot m_Name="attack_range" m_Limit="1" m_MinDelay="4" m_Cost="#slot_cost">
                <Act_RangedAttack m_Target="#target" m_Type="SPIT" m_TargetPredictionTime="0.2" m_BoneName="HEAD" m_StartPolicy="INTERRUPT" m_AbandonPolicy="INTERRUPT" m_DecisionPolicy="WHEN_POSSIBLE"/>
            </CombatSlot>
        </SequenceMem>
    </CooldownTimeDelta>
</BehaviorTree>
